module.exports = function (func) {
  var args = func.toString().split('(')[1].split(')')[0];
  args = (args === '') ? [] : args.split(', ');

  return function (opts) {
    opts = opts || {};
    return func.apply(this, args.map(function (key) {
      return opts[key];
    }));
  };
};
